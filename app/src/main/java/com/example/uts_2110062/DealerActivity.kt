package com.example.uts_2110062

import android.os.Build
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.os.Handler
import android.text.Html
import android.widget.TextView
import androidx.core.content.ContextCompat
import androidx.viewpager2.widget.ViewPager2
import com.example.uts_2110062.Adapter.imageAdapter
import com.example.uts_2110062.databinding.ActivityDealerBinding
import java.text.FieldPosition

class DealerActivity : AppCompatActivity() {

    private lateinit var binding: ActivityDealerBinding
    private lateinit var adapter: imageAdapter
    private val lisGambar= ArrayList<imageData>()
    private lateinit var dots: ArrayList<TextView>
    private  val slideHandler = Handler()


    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityDealerBinding.inflate(layoutInflater)
        setContentView(binding.root)

        lisGambar.add(
            imageData(
                imgUrl = "data:image/jpeg;base64,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"
            )
        )

        lisGambar.add(
            imageData(
                imgUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJRMHXnvHB-oqPNoTpiJxUnPGbd9YTWPqrDg&usqp=CAU"
            )
        )

        lisGambar.add(
            imageData(
                imgUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqu_nT432fzjszCJ5JnoQH0zSIdplY4B5QlQ&usqp=CAU"
            )
        )

        lisGambar.add(
            imageData(
                imgUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8kxvw8uyFm3LLm_cR171XklptEtTysd8fxA&usqp=CAU"
            )
        )

        lisGambar.add(
            imageData(
                imgUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGHcVoF4FC_rKZin43vtZubMUbUWrksX1zuA&usqp=CAU"
            )
        )

         adapter = imageAdapter(lisGambar)
         binding.vpGambar.adapter = adapter
         dots = ArrayList()
         setIndicator()


        binding.vpGambar.registerOnPageChangeCallback(object : ViewPager2.OnPageChangeCallback(){
            override fun onPageSelected(position: Int) {
                selectDot(position)
                super.onPageSelected(position)

                slideHandler.removeCallbacks(sliderRun)
                slideHandler.postDelayed(sliderRun,2000)
            }
        })
    }

    private val sliderRun = Runnable {
        binding.vpGambar.currentItem = binding.vpGambar.currentItem + 1
    }

    private fun selectDot(position: Int){
        for(i in 0 until lisGambar.size){
            if(i==position){
                dots[i].setTextColor(ContextCompat.getColor(this, com.google.android.material.R.color.design_default_color_primary))
            } else {
                dots[i].setTextColor(ContextCompat.getColor(this, com.google.android.material.R.color.design_default_color_secondary))
            }
        }
    }

    private fun setIndicator() {
        for(i in 0 until lisGambar.size){
            dots.add(TextView(this))

            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {
                dots[i].text = Html.fromHtml("&#9679", Html.FROM_HTML_MODE_LEGACY).toString()
            } else {
                dots[i].text = Html.fromHtml("&#9679")
            }
            dots[i].textSize= 18f
            binding.dotsIndicator.addView(dots[i])
        }
    }
}